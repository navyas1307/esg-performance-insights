<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced ESG Visualizations</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
        }
        .container {
            max-width: 1000px;
            margin: 20px auto;
            padding: 10px;
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
        }
        .plot {
            margin-bottom: 30px;
            padding: 10px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        .plot h2 {
            margin-bottom: 5px;
            font-size: 1.25rem;
            color: #0066cc;
        }
        .plot p {
            font-size: 0.9rem;
            color: #555;
            margin-bottom: 15px;
        }
        .plot iframe {
            width: 100%;
            height: 400px;
            border: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Enhanced ESG Visualizations</h1>

        <div class="plot">
            <h2>1. Sector-Wise Average ESG Performance</h2>
            <p>This bar chart shows the average ESG score for each sector. It allows you to quickly identify which sectors are leading in ESG performance and which need improvement. For example, the Technology sector might have a higher average ESG score compared to the Energy sector due to the latter's environmental challenges.</p>
            <p><strong>Example:</strong> The "Oil and gas" sector has an average ESG score of 41 which is the highest, while "technology hardware"  have a score of 14.85, suggesting a lower overall performance in environmental, social, and governance factors.</p>
            {{ figs['sector_esg'] | safe }}
        </div>

        <div class="plot">
            <h2>2. Controversy vs ESG Scores</h2>
            <p>This scatter plot visualizes the relationship between a company's highest controversy level and its total ESG score. Larger bubble sizes represent companies with more peers, helping you identify trends and outliers. For example, companies with high controversy levels, such as those involved in unethical business practices, might score lower on ESG metrics.</p>
            <p><strong>Example:</strong> A company with a controversy level of 10 might have a low ESG score of 30, while another with a controversy level of 2 might have an ESG score of 80, indicating that lower controversy correlates with better ESG performance.</p>
            {{ figs['controversy_esg'] | safe }}
        </div>

        <div class="plot">
            <h2>3. ESG Component Analysis</h2>
            <p>This radar chart compares the ESG components (Environment, Social, and Governance) of a selected company against the sector average. It highlights how well a company is performing in each ESG category compared to its peers. For example, a company may excel in governance but lag in environmental performance.</p>
            <p><strong>Example:</strong> The selected company might have a governance score of 85, an environmental score of 60, and a social score of 70. The sector average, on the other hand, could show lower scores in the social and environmental categories, but a higher governance score, helping to position the company within its sector.</p>
            {{ figs['esg_components'] | safe }}
        </div>

        <div class="plot">
            <h2>4. Industry Involvement Analysis</h2>
            <p>This bar chart shows how many companies are involved in controversial industries such as animal testing, military, controversial weapons. It helps to visualize the extent of industry exposure to practices that may be deemed unethical or harmful.</p>
            <p><strong>Example:</strong> If 6 companies are involved in animal testing and 3 in controversial weapons, it becomes clear that animal testing is a more widespread issue in the dataset compared to weapons. This information can be useful for stakeholders who wish to avoid companies involved in such practices.</p>
            {{ figs['industry_involvement'] | safe }}
        </div>

        <div class="plot">
            <h2>5. Peer Benchmarking for Selected Company</h2>
            <p>This bar chart compares the ESG scores of companies within the same sector (peer group), allowing users to evaluate how the selected company stands relative to its competitors. A higher bar indicates a higher ESG score, providing insight into where a company ranks in terms of sustainability and governance.</p>
            <p><strong>Example:</strong> If a selected company has an ESG score of 70, but its peers in the same sector score between 50 and 65, it indicates that the selected company is performing better than most of its competitors in terms of ESG practices.</p>
            {{ figs['peer_benchmarking'] | safe }}
        </div>
    </div>
</body>
</html>
